<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4909.375px" preserveAspectRatio="none" style="width:4600px;height:4909px;background:#777777;" version="1.1" viewBox="0 0 4600 4909" width="4600px" zoomAndPan="magnify"><defs/><g><!--MD5=[e2a75efa8a0f57c2afae8bf75386f79c]
cluster views--><polygon fill="#777777" points="425,75,706.25,75,728.125,211.6699,2209.375,211.6699,2209.375,506.25,425,506.25,425,75" style="stroke: #000000; stroke-width: 4.6875;"/><line style="stroke: #000000; stroke-width: 4.6875;" x1="425" x2="728.125" y1="211.6699" y2="211.6699"/><text fill="#000000" font-family="sans-serif" font-size="93.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="262.5" x="437.5" y="178.5706">views</text><!--MD5=[aee47e4adc368b23a2c75b05fcb7ca1e]
cluster routes--><polygon fill="#777777" points="68.75,759.375,375,759.375,396.875,896.0449,2600,896.0449,2600,3218.75,68.75,3218.75,68.75,759.375" style="stroke: #000000; stroke-width: 4.6875;"/><line style="stroke: #000000; stroke-width: 4.6875;" x1="68.75" x2="396.875" y1="896.0449" y2="896.0449"/><text fill="#000000" font-family="sans-serif" font-size="93.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="287.5" x="81.25" y="862.9456">routes</text><!--MD5=[e5bc18234cb81ccd7dd8830c661fa314]
cluster courses.js--><rect fill="#2F4F4F" height="2184.375" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="2381.25" x="143.75" y="959.375"/><rect fill="#2F4F4F" height="31.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="46.875" x="2462.5" y="975"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="2456.25" y="981.25"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="2456.25" y="993.75"/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="537.5" x="1065.625" y="1094.2535">courses.js</text><!--MD5=[a60570e4b426f702ccbb0d459e3b9417]
cluster models--><polygon fill="#777777" points="2675,581.25,3018.75,581.25,3040.625,717.9199,4531.25,717.9199,4531.25,3396.875,2675,3396.875,2675,581.25" style="stroke: #000000; stroke-width: 4.6875;"/><line style="stroke: #000000; stroke-width: 4.6875;" x1="2675" x2="3040.625" y1="717.9199" y2="717.9199"/><text fill="#000000" font-family="sans-serif" font-size="93.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="325" x="2687.5" y="684.8206">models</text><!--MD5=[2dc90687bafe027e9cd205ba7247115e]
cluster course.js--><rect fill="#2F4F4F" height="2540.625" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="1706.25" x="2750" y="781.25"/><rect fill="#2F4F4F" height="31.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="46.875" x="4393.75" y="796.875"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="4387.5" y="803.125"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="4387.5" y="815.625"/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="481.25" x="3362.5" y="916.1285">course.js</text><!--MD5=[24e2ffe3fe14b147bf8fee69b9d55bef]
cluster middleware--><polygon fill="#777777" points="318.75,3471.875,856.25,3471.875,878.125,3608.5449,2350,3608.5449,2350,4871.875,318.75,4871.875,318.75,3471.875" style="stroke: #000000; stroke-width: 4.6875;"/><line style="stroke: #000000; stroke-width: 4.6875;" x1="318.75" x2="878.125" y1="3608.5449" y2="3608.5449"/><text fill="#000000" font-family="sans-serif" font-size="93.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="518.75" x="331.25" y="3575.4456">middleware</text><!--MD5=[c53328ea4eaa0e42595c7b2d43f9ecd2]
cluster auth.js--><rect fill="#2F4F4F" height="1125" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="1881.25" x="393.75" y="3671.875"/><rect fill="#2F4F4F" height="31.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="46.875" x="2212.5" y="3687.5"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="2206.25" y="3693.75"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="2206.25" y="3706.25"/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="365.625" x="1151.5625" y="3806.7535">auth.js</text><!--MD5=[6f24bd06707e028cf1a730ba98cde05a]
entity course_edit.hbs--><rect fill="#2F4F4F" height="207.6874" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="881.25" x="475" y="250"/><rect fill="#2F4F4F" height="31.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="46.875" x="1293.75" y="265.625"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="1287.5" y="271.875"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="1287.5" y="284.375"/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="756.25" x="521.875" y="406.7535">course_edit.hbs</text><!--MD5=[1e75b17258914e3d4cd4c14a609d2929]
entity courses.hbs--><rect fill="#2F4F4F" height="207.6874" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="690.625" x="1467.1875" y="250"/><rect fill="#2F4F4F" height="31.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="46.875" x="2095.3125" y="265.625"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="2089.0625" y="271.875"/><rect fill="#2F4F4F" height="6.25" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="12.5" x="2089.0625" y="284.375"/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="565.625" x="1514.0625" y="406.7535">courses.hbs</text><!--MD5=[9c46f7353ba389b9a745c30e6ba9927d]
class deleteOne--><rect fill="#2E2E2E" height="1963.9862" id="deleteOne" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="2281.25" x="193.75" y="1131.25"/><ellipse cx="1081.25" cy="1203.8437" fill="#228811" rx="25" ry="25" style="stroke: #1B1B1B; stroke-width: 3.125;"/><path d="M1083.252,1216.832 Q1080.4688,1216.832 1078.1006,1216.0019 Q1075.7324,1215.1718 1074.0234,1213.5605 Q1072.3633,1211.9492 1071.4111,1209.5078 Q1070.459,1207.0663 1070.459,1203.8925 Q1070.459,1200.914 1071.3623,1198.497 Q1072.2656,1196.08 1073.9746,1194.3222 Q1075.5859,1192.662 1078.0029,1191.7587 Q1080.4199,1190.8554 1083.252,1190.8554 Q1084.8145,1190.8554 1086.084,1191.0263 Q1087.3535,1191.1972 1088.4277,1191.4902 Q1089.5508,1191.832 1090.4785,1192.2226 Q1091.4063,1192.6132 1092.0898,1192.955 L1092.0898,1199.0097 L1091.3574,1199.0097 Q1090.8691,1198.6191 1090.1611,1198.0576 Q1089.4531,1197.496 1088.5254,1196.9589 Q1087.5977,1196.4218 1086.5234,1196.0556 Q1085.4492,1195.6894 1084.2285,1195.6894 Q1082.8613,1195.6894 1081.6406,1196.1044 Q1080.4199,1196.5195 1079.3945,1197.5449 Q1078.418,1198.4726 1077.8076,1200.0595 Q1077.1973,1201.6464 1077.1973,1203.8925 Q1077.1973,1206.2363 1077.8564,1207.8232 Q1078.5156,1209.4101 1079.4922,1210.289 Q1080.5176,1211.2167 1081.7871,1211.6074 Q1083.0566,1211.998 1084.2773,1211.998 Q1085.4492,1211.998 1086.5967,1211.6562 Q1087.7441,1211.3144 1088.7207,1210.6796 Q1089.5508,1210.2402 1090.2588,1209.6786 Q1090.9668,1209.1171 1091.4063,1208.7265 L1092.0898,1208.7265 L1092.0898,1214.6835 Q1091.1621,1215.123 1090.3076,1215.4892 Q1089.4531,1215.8554 1088.4766,1216.0995 Q1087.2559,1216.4413 1086.1816,1216.6367 Q1085.1074,1216.832 1083.252,1216.832 Z "/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="484.375" x="1131.25" y="1241.1285">deleteOne</text><line style="stroke: #1B1B1B; stroke-width: 4.6875;" x1="196.875" x2="2471.875" y1="1276.4374" y2="1276.4374"/><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="159.375" x="212.5" y="1386.2579">try {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="665.625" x="212.5" y="1504.1779">_id: req.body.id,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="856.25" x="212.5" y="1622.0978">userId: req.user._id,}</text><line style="stroke: #1B1B1B; stroke-width: 4.6875;" x1="196.875" x2="2471.875" y1="1655.1971" y2="1655.1971"/><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1481.25" x="212.5" y="1765.0177">const { Router } = require('express');</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="2243.75" x="212.5" y="1882.9376">const { validationResult } = require('express-validator');</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="2234.375" x="212.5" y="2000.8575">const { courseValidators } = require('../utils/validators');</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1746.875" x="212.5" y="2118.7775">const Course = require('../models/course');</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1706.25" x="212.5" y="2236.6974">const auth = require('../middleware/auth');</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1959.375" x="212.5" y="2354.6173">router.post('/remove', auth, async (req, res) =&gt; {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1050" x="212.5" y="2472.5372">await Course.deleteOne({</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="56.25" x="212.5" y="2590.4572">);</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="968.75" x="212.5" y="2708.3771">res.redirect('/courses');}</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="415.625" x="212.5" y="2826.297">catch (e) {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="668.75" x="212.5" y="2944.2169">console.log(e);}}</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="56.25" x="212.5" y="3062.1368">);</text><!--MD5=[3c8afb8c3a917f644ec1ad74ecd38fae]
class courseSchema--><rect fill="#2E2E2E" height="2317.746" id="courseSchema" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="1606.25" x="2800" y="953.125"/><ellipse cx="3246.875" cy="1025.7187" fill="#228811" rx="25" ry="25" style="stroke: #1B1B1B; stroke-width: 3.125;"/><path d="M3248.877,1038.707 Q3246.0938,1038.707 3243.7256,1037.8769 Q3241.3574,1037.0468 3239.6484,1035.4355 Q3237.9883,1033.8242 3237.0361,1031.3828 Q3236.084,1028.9413 3236.084,1025.7675 Q3236.084,1022.789 3236.9873,1020.372 Q3237.8906,1017.955 3239.5996,1016.1972 Q3241.2109,1014.537 3243.6279,1013.6337 Q3246.0449,1012.7304 3248.877,1012.7304 Q3250.4395,1012.7304 3251.709,1012.9013 Q3252.9785,1013.0722 3254.0527,1013.3652 Q3255.1758,1013.707 3256.1035,1014.0976 Q3257.0313,1014.4882 3257.7148,1014.83 L3257.7148,1020.8847 L3256.9824,1020.8847 Q3256.4941,1020.4941 3255.7861,1019.9326 Q3255.0781,1019.371 3254.1504,1018.8339 Q3253.2227,1018.2968 3252.1484,1017.9306 Q3251.0742,1017.5644 3249.8535,1017.5644 Q3248.4863,1017.5644 3247.2656,1017.9794 Q3246.0449,1018.3945 3245.0195,1019.4199 Q3244.043,1020.3476 3243.4326,1021.9345 Q3242.8223,1023.5214 3242.8223,1025.7675 Q3242.8223,1028.1113 3243.4814,1029.6982 Q3244.1406,1031.2851 3245.1172,1032.164 Q3246.1426,1033.0917 3247.4121,1033.4824 Q3248.6816,1033.873 3249.9023,1033.873 Q3251.0742,1033.873 3252.2217,1033.5312 Q3253.3691,1033.1894 3254.3457,1032.5546 Q3255.1758,1032.1152 3255.8838,1031.5536 Q3256.5918,1030.9921 3257.0313,1030.6015 L3257.7148,1030.6015 L3257.7148,1036.5585 Q3256.7871,1036.998 3255.9326,1037.3642 Q3255.0781,1037.7304 3254.1016,1037.9745 Q3252.8809,1038.3163 3251.8066,1038.5117 Q3250.7324,1038.707 3248.877,1038.707 Z "/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="690.625" x="3296.875" y="1063.0035">courseSchema</text><line style="stroke: #1B1B1B; stroke-width: 4.6875;" x1="2803.125" x2="4403.125" y1="1098.3124" y2="1098.3124"/><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="225" x="2818.75" y="1208.1329">title: {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="496.875" x="2818.75" y="1326.0529">type: String,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="609.375" x="2818.75" y="1443.9728">required: true,}</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="25" x="2818.75" y="1561.8927">,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="284.375" x="2818.75" y="1679.8126">price: {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="584.375" x="2818.75" y="1797.7325">type: Number,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="609.375" x="2818.75" y="1915.6525">required: true,}</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="25" x="2818.75" y="2033.5724">,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="475" x="2818.75" y="2151.4923">img: String,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="534.375" x="2818.75" y="2269.4122">description: {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="550" x="2818.75" y="2387.3322">type: Object,}</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="25" x="2818.75" y="2505.2521">,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="337.5" x="2818.75" y="2623.172">userId: {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1240.625" x="2818.75" y="2741.0919">type: Schema.Types.ObjectId,</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="446.875" x="2818.75" y="2859.0118">ref: 'User',}</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="56.25" x="2818.75" y="2976.9318">,}</text><line style="stroke: #1B1B1B; stroke-width: 4.6875;" x1="2803.125" x2="4403.125" y1="3010.0311" y2="3010.0311"/><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1568.75" x="2818.75" y="3119.8517">const courseSchema = new Schema({</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="56.25" x="2818.75" y="3237.7716">);</text><!--MD5=[bda47d503442ff4a0d0fa4aec41fe8fa]
class isAuthenticated--><rect fill="#2E2E2E" height="902.7069" id="isAuthenticated" style="stroke: #1B1B1B; stroke-width: 4.6875;" width="1781.25" x="443.75" y="3843.75"/><ellipse cx="953.125" cy="3916.3437" fill="#228811" rx="25" ry="25" style="stroke: #1B1B1B; stroke-width: 3.125;"/><path d="M955.127,3929.332 Q952.3438,3929.332 949.9756,3928.5019 Q947.6074,3927.6718 945.8984,3926.0605 Q944.2383,3924.4492 943.2861,3922.0078 Q942.334,3919.5663 942.334,3916.3925 Q942.334,3913.414 943.2373,3910.997 Q944.1406,3908.58 945.8496,3906.8222 Q947.4609,3905.162 949.8779,3904.2587 Q952.2949,3903.3554 955.127,3903.3554 Q956.6895,3903.3554 957.959,3903.5263 Q959.2285,3903.6972 960.3027,3903.9902 Q961.4258,3904.332 962.3535,3904.7226 Q963.2813,3905.1132 963.9648,3905.455 L963.9648,3911.5097 L963.2324,3911.5097 Q962.7441,3911.1191 962.0361,3910.5576 Q961.3281,3909.996 960.4004,3909.4589 Q959.4727,3908.9218 958.3984,3908.5556 Q957.3242,3908.1894 956.1035,3908.1894 Q954.7363,3908.1894 953.5156,3908.6044 Q952.2949,3909.0195 951.2695,3910.0449 Q950.293,3910.9726 949.6826,3912.5595 Q949.0723,3914.1464 949.0723,3916.3925 Q949.0723,3918.7363 949.7314,3920.3232 Q950.3906,3921.9101 951.3672,3922.789 Q952.3926,3923.7167 953.6621,3924.1074 Q954.9316,3924.498 956.1523,3924.498 Q957.3242,3924.498 958.4717,3924.1562 Q959.6191,3923.8144 960.5957,3923.1796 Q961.4258,3922.7402 962.1338,3922.1786 Q962.8418,3921.6171 963.2813,3921.2265 L963.9648,3921.2265 L963.9648,3927.1835 Q963.0371,3927.623 962.1826,3927.9892 Q961.3281,3928.3554 960.3516,3928.5995 Q959.1309,3928.9413 958.0566,3929.1367 Q956.9824,3929.332 955.127,3929.332 Z "/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="740.625" x="1003.125" y="3953.6285">isAuthenticated</text><line style="stroke: #1B1B1B; stroke-width: 4.6875;" x1="446.875" x2="2221.875" y1="3988.9374" y2="3988.9374"/><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="850" x="462.5" y="4098.7579">// middleware auth.js</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="56.25" x="462.5" y="4216.6779">};</text><line style="stroke: #1B1B1B; stroke-width: 4.6875;" x1="446.875" x2="2221.875" y1="4249.7772" y2="4249.7772"/><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1743.75" x="462.5" y="4359.5978">module.exports = function (req, res, next) {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1353.125" x="462.5" y="4477.5177">if (!req.session.isAuthenticated) {</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="1318.75" x="462.5" y="4595.4376">return res.redirect('/auth/login');}</text><text fill="#AAAAAA" font-family="sans-serif" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="259.375" x="462.5" y="4713.3575">next();</text><!--MD5=[ba72416187da2a396e219ea5b5d73a26]
entity MongoDB--><path d="M3348.4375,4225 C3348.4375,4193.75 3603.125,4193.75 3603.125,4193.75 C3603.125,4193.75 3857.8125,4193.75 3857.8125,4225 L3857.8125,4367.0624 C3857.8125,4398.3124 3603.125,4398.3124 3603.125,4398.3124 C3603.125,4398.3124 3348.4375,4398.3124 3348.4375,4367.0624 L3348.4375,4225 " fill="#2E2E2E" style="stroke: #1B1B1B; stroke-width: 4.6875;"/><path d="M3348.4375,4225 C3348.4375,4256.25 3603.125,4256.25 3603.125,4256.25 C3603.125,4256.25 3857.8125,4256.25 3857.8125,4225 " fill="none" style="stroke: #1B1B1B; stroke-width: 4.6875;"/><text fill="#FFFFFF" font-family="Verdana" font-size="93.75" lengthAdjust="spacingAndGlyphs" textLength="446.875" x="3379.6875" y="4363.0035">MongoDB</text><!--MD5=[3dace987d6472f901c6d8e7a8f82246c]
link course_edit.hbs to deleteOne--><path d="M939.6438,456.8125 C971.8781,591.75 1032.5688,845.8438 1096.8625,1115 " fill="none" id="course_edit.hbs-&gt;deleteOne" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="1100.5125,1130.2813,1106.0782,1100.011,1096.8532,1115.0908,1081.7734,1105.8658,1100.5125,1130.2813" style="stroke: #FFFFFF; stroke-width: 3.125;"/><!--MD5=[01144e5210b407fa8e88a3f76177d9dd]
reverse link courses.hbs to deleteOne--><path d="M1780.7625,472.625 C1742.2813,613.7188 1673.5625,865.6875 1601.3969,1130.2813 " fill="none" id="courses.hbs&lt;-deleteOne" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="1785.0781,456.8125,1765.6232,480.6614,1780.9699,471.8878,1789.7436,487.2345,1785.0781,456.8125" style="stroke: #FFFFFF; stroke-width: 3.125;"/><!--MD5=[1add0faceb7fdbbe9aacbae8cddd8f90]
link deleteOne to isAuthenticated--><path d="M1334.375,3110.9375 C1334.375,3360.5656 1334.375,3616.7688 1334.375,3826.4875 " fill="none" id="deleteOne-isAuthenticated" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="1334.375,3842.7844,1346.875,3814.6594,1334.375,3827.1594,1321.875,3814.6594,1334.375,3842.7844" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="1334.375,3094.075,1321.875,3122.2,1334.375,3109.7,1346.875,3122.2,1334.375,3094.075" style="stroke: #FFFFFF; stroke-width: 3.125;"/><!--MD5=[0894767ccddae61969791591fa6ee4de]
link deleteOne to courseSchema--><path d="M2491.8375,2112.5 C2588.6813,2112.5 2685.525,2112.5 2782.3719,2112.5 " fill="none" id="deleteOne-courseSchema" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="2799.1781,2112.5,2771.0531,2100,2783.5531,2112.5,2771.0531,2125,2799.1781,2112.5" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="2475.3969,2112.5,2503.5219,2125,2491.0219,2112.5,2503.5219,2100,2475.3969,2112.5" style="stroke: #FFFFFF; stroke-width: 3.125;"/><!--MD5=[15ab8eb559fe119814b44df5b29eb662]
link courseSchema to MongoDB--><path d="M3603.125,3289.1125 C3603.125,3651.6031 3603.125,4001.4094 3603.125,4176.3375 " fill="none" id="courseSchema-MongoDB" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="3603.125,4192.7156,3615.625,4164.5906,3603.125,4177.0906,3590.625,4164.5906,3603.125,4192.7156" style="stroke: #FFFFFF; stroke-width: 3.125;"/><polygon fill="#FFFFFF" points="3603.125,3272.4156,3590.625,3300.5406,3603.125,3288.0406,3615.625,3300.5406,3603.125,3272.4156" style="stroke: #FFFFFF; stroke-width: 3.125;"/><!--MD5=[f7b343ef6b8907f34c5bd801e8f319ef]
@startuml
!define DARKGREEN
!includeurl https://raw.githubusercontent.com/Drakemor/RedDress-PlantUML/master/style.puml

skinparam {
       Shadowing false
    Dpi 300
  ClassAttributeFontSize 30
  ClassFontSize 30
  ComponentFontSize 30
  PackageFontSize 30
  DatabaseFontSize 30
  ComponentBackgroundColor DarkSlateGrey
}

package views{

    component course_edit.hbs{

    }
    component courses.hbs{

    }
}

package routes{
    component courses.js{
        class deleteOne{
 const { Router } = require('express');
const { validationResult } = require('express-validator');
const { courseValidators } = require('../utils/validators');
const Course = require('../models/course');
const auth = require('../middleware/auth');
            router.post('/remove', auth, async (req, res) => {
                try {
                    await Course.deleteOne({
                        _id: req.body.id,
                        userId: req.user._id,}
                    );
                    res.redirect('/courses');}
                catch (e) {
                    console.log(e);}}
            );
       }
    }
}

package models{
    component course.js{
        class courseSchema{
            const courseSchema = new Schema({
                title: {
                    type: String,
                    required: true,}
                ,
                price: {
                    type: Number,
                    required: true,}
                ,
                img: String,
                description: {
                    type: Object,}
                ,
                userId: {
                    type: Schema.Types.ObjectId,
                    ref: 'User',}
                ,}
            );
        }

    }
}

package middleware{
  component auth.js{
    class isAuthenticated{
      // middleware auth.js
module.exports = function (req, res, next) {
  if (!req.session.isAuthenticated) {
    return res.redirect('/auth/login');}
  next();
};

    }
  }
}


database MongoDB{

}

course_edit.hbs - -> deleteOne
deleteOne -up-> courses.hbs
deleteOne <-down-> isAuthenticated
deleteOne <-right-> courseSchema
courseSchema <- -> MongoDB





@enduml

@startuml







skinparam stereotypeCBackgroundColor 228811





skinparam backgroundColor 777







skinparam circledCharacter {
  radius 8
  fontSize 11
  fontName Verdana
}

skinparam class {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
    arrowColor fff
  arrowFontName Verdana
  arrowFontColor bbb
  arrowFontSize 11

  attributeFontColor aaa
  attributeFontSize 11
  attributeIconSize 11
}


skinparam actor {
    backgroundColor 228811
  borderColor 113300
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam participant {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam collections {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam SequenceBox{
    backgroundColor 575757
  borderColor 767676
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}


skinparam interface {
    backgroundColor 228811
  borderColor 113300
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam component {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam node {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam database {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam queue {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}


skinparam usecase {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
    arrowColor fff
  arrowFontName Verdana
  arrowFontColor bbb
  arrowFontSize 11
}

skinparam activity {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
    arrowColor fff
  arrowFontName Verdana
  arrowFontColor bbb
  arrowFontSize 11
}

skinparam sequence {
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
    arrowColor fff
  arrowFontName Verdana
  arrowFontColor bbb
  arrowFontSize 11

  lifeLineBorderColor 228811
  lifeLineBackgroundColor 575757
}

skinparam boundary {
    backgroundColor 228811
  borderColor 113300
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam control {
    backgroundColor 228811
  borderColor 113300
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam entity {
    backgroundColor 228811
  borderColor 113300
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}


skinparam state {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
    arrowColor fff
  arrowFontName Verdana
  arrowFontColor bbb
  arrowFontSize 11
  startColor 228811
  endColor 113300
}


skinparam object {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
    arrowColor fff
  arrowFontName Verdana
  arrowFontColor bbb
  arrowFontSize 11
}


skinparam note {
    backgroundColor 228811
  borderColor 113300
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam cloud {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
    arrowColor fff
  arrowFontName Verdana
  arrowFontColor bbb
  arrowFontSize 11
}

skinparam rectangle {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}

skinparam storage {
    backgroundColor 2e2e2e
  borderColor 1b1b1b
    fontColor fff
  fontName Verdana
  fontSize 11
  stereotypeFontColor aaa
  stereotypeFontSize 11
}


skinparam {
       Shadowing false
    Dpi 300
  ClassAttributeFontSize 30
  ClassFontSize 30
  ComponentFontSize 30
  PackageFontSize 30
  DatabaseFontSize 30
  ComponentBackgroundColor DarkSlateGrey
}

package views{

    component course_edit.hbs{

    }
    component courses.hbs{

    }
}

package routes{
    component courses.js{
        class deleteOne{
 const { Router } = require('express');
const { validationResult } = require('express-validator');
const { courseValidators } = require('../utils/validators');
const Course = require('../models/course');
const auth = require('../middleware/auth');
            router.post('/remove', auth, async (req, res) => {
                try {
                    await Course.deleteOne({
                        _id: req.body.id,
                        userId: req.user._id,}
                    );
                    res.redirect('/courses');}
                catch (e) {
                    console.log(e);}}
            );
       }
    }
}

package models{
    component course.js{
        class courseSchema{
            const courseSchema = new Schema({
                title: {
                    type: String,
                    required: true,}
                ,
                price: {
                    type: Number,
                    required: true,}
                ,
                img: String,
                description: {
                    type: Object,}
                ,
                userId: {
                    type: Schema.Types.ObjectId,
                    ref: 'User',}
                ,}
            );
        }

    }
}

package middleware{
  component auth.js{
    class isAuthenticated{
      // middleware auth.js
module.exports = function (req, res, next) {
  if (!req.session.isAuthenticated) {
    return res.redirect('/auth/login');}
  next();
};

    }
  }
}


database MongoDB{

}

course_edit.hbs - -> deleteOne
deleteOne -up-> courses.hbs
deleteOne <-down-> isAuthenticated
deleteOne <-right-> courseSchema
courseSchema <- -> MongoDB





@enduml

PlantUML version 1.2020.10(Sun May 17 12:35:57 MSK 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_241-b07
Operating System: Windows 10
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>